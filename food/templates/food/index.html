{% extends 'food/base.html' %}

{% block body %}

{% if messages %}
<div class="container" id="alert-container">
   {% for message in messages %}
   <div class="alert alert-info alert-dismissible fade show shadow-sm" role="alert">
      <strong>{{ message }}</strong>
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
   </div>
   {% endfor %}
</div>
{% endif %}


{% if user.is_authenticated %}
<div class="container py-2">
   {% for item in item_list %}
   <div class="row align-items-center g-4 mb-2 shadow-sm rounded p-3 bg-white">
      <!-- Item Image -->
      <div class="col-md-3">
         <div class="text-center">
            <img class="img-fluid rounded shadow-sm fixed-size-image" src="{{ item.item_image }}"
               alt="{{ item.item_name }}">
         </div>
      </div>
      <!-- Item Details -->
      <div class="col-md-6">
         <h4 class="mb-2 text-primary">{{ item.item_name }}</h4>
         <h6 class="text-success">â‚¹{{ item.item_price }}</h6>
         <div class="mt-2">
            <p class="mb-0 text-muted" style="font-size: 1rem;">
               ðŸ‘¤ <span style="font-weight: 500;">{{ item.user_name }}</span>
            </p>
         </div>

      </div>
      <!-- View Details Button -->
      <div class="col-md-3 text-md-end text-center">
         <a href="{% url 'food:detail' pk=item.id %}" class="btn btn-outline-success btn-lg">
            View Details
         </a>
      </div>
   </div>
   {% endfor %}
</div>
{% else %}
<div class="container py-5">
   <div class="row justify-content-center">
      <div class="col-md-8 text-center">
         <div class="p-5 bg-white rounded-4 shadow-lg">
            <img src="https://cdn-icons-png.flaticon.com/512/747/747545.png" alt="User Icon" width="100" class="mb-4">
            <h2 class="mb-3 text-primary fw-bold">Hello, Food Lover!</h2>
            <p class="lead text-muted mb-4">
               You need to <strong>log in</strong> or <strong>create an account</strong> to explore our delicious menu
               and view item details.
            </p>
            <div class="d-flex justify-content-center gap-3">
               <a href="{% url 'login' %}" class="btn btn-success btn-lg px-4 shadow-sm">
                  <i class="bi bi-box-arrow-in-right "></i> Log In
               </a>
               <a href="{% url 'register' %}" class="btn btn-outline-secondary btn-lg px-4 shadow-sm">
                  <i class="bi bi-person-plus"></i> Sign Up
               </a>
            </div>
         </div>
      </div>
   </div>
</div>

{% endif %}

<!-- Add custom CSS -->
<style>
   .fixed-size-image {
      width: 250px;
      height: 200px;
      object-fit: cover;
   }
</style>
{% endblock %}